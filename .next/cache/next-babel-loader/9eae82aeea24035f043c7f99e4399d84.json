{"ast":null,"code":"import { useEffect } from \"react\";\nexport function useInfiniteScroller(forwardedRef, isLoading, loadMoreItems) {\n  var shouldLoadMoreItems = function shouldLoadMoreItems() {\n    return !isLoading() && forwardedRef.current && forwardedRef.current.getBoundingClientRect().bottom < window.innerHeight + window.pageYOffset;\n  };\n\n  var onWindowEvent = function onWindowEvent() {\n    return shouldLoadMoreItems() && loadMoreItems();\n  };\n\n  useEffect(function () {\n    window.addEventListener(\"scroll\", onWindowEvent);\n    window.addEventListener(\"resize\", onWindowEvent);\n    return function () {\n      window.removeEventListener(\"scroll\", onWindowEvent);\n      window.removeEventListener(\"resize\", onWindowEvent);\n    };\n  });\n  useEffect(loadMoreItems, []);\n}","map":{"version":3,"sources":["C:\\Users\\rbhate\\projects\\react-next-serversiderendering\\src\\components\\List\\useInfiniteScroller.js"],"names":["useEffect","useInfiniteScroller","forwardedRef","isLoading","loadMoreItems","shouldLoadMoreItems","current","getBoundingClientRect","bottom","window","innerHeight","pageYOffset","onWindowEvent","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,OAAO,SAASC,mBAAT,CAA6BC,YAA7B,EAA2CC,SAA3C,EAAsDC,aAAtD,EAAqE;AAC1E,MAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB;AAAA,WAC1B,CAACF,SAAS,EAAV,IACAD,YAAY,CAACI,OADb,IAEAJ,YAAY,CAACI,OAAb,CAAqBC,qBAArB,GAA6CC,MAA7C,GACEC,MAAM,CAACC,WAAP,GAAqBD,MAAM,CAACE,WAJJ;AAAA,GAA5B;;AAMA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA,WAAMP,mBAAmB,MAAMD,aAAa,EAA5C;AAAA,GAAtB;;AAEAJ,EAAAA,SAAS,CAAC,YAAM;AACdS,IAAAA,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCD,aAAlC;AACAH,IAAAA,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCD,aAAlC;AACA,WAAO,YAAM;AACXH,MAAAA,MAAM,CAACK,mBAAP,CAA2B,QAA3B,EAAqCF,aAArC;AACAH,MAAAA,MAAM,CAACK,mBAAP,CAA2B,QAA3B,EAAqCF,aAArC;AACD,KAHD;AAID,GAPQ,CAAT;AASAZ,EAAAA,SAAS,CAACI,aAAD,EAAgB,EAAhB,CAAT;AACD","sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport function useInfiniteScroller(forwardedRef, isLoading, loadMoreItems) {\r\n  const shouldLoadMoreItems = () =>\r\n    !isLoading() &&\r\n    forwardedRef.current &&\r\n    forwardedRef.current.getBoundingClientRect().bottom <\r\n      window.innerHeight + window.pageYOffset;\r\n\r\n  const onWindowEvent = () => shouldLoadMoreItems() && loadMoreItems();\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", onWindowEvent);\r\n    window.addEventListener(\"resize\", onWindowEvent);\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", onWindowEvent);\r\n      window.removeEventListener(\"resize\", onWindowEvent);\r\n    };\r\n  });\r\n\r\n  useEffect(loadMoreItems, []);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}