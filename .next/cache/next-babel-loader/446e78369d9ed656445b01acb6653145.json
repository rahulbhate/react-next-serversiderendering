{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport { useReducer, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Router from 'next/router';\n\nvar useForm = function useForm(callback) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      token = _useState2[0],\n      setToken = _useState2[1];\n\n  var _useReducer = useReducer(function (state, newState) {\n    return _objectSpread({}, state, newState);\n  }, {}),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      inputValues = _useReducer2[0],\n      setInputValues = _useReducer2[1];\n\n  useEffect(function () {\n    console.log('useEffect hook called');\n  });\n\n  var handleSubmit = function handleSubmit(event) {\n    // Call SERVER USING FETCH METHOD and PASS STATE VALUES TO BACK END WITH POST METHOD..\n    if (event) event.preventDefault();\n    console.log(inputValues);\n    axios.post(\"http://localhost:8080/login\", inputValues).then(function (res) {\n      console.log(res.data.token);\n      var token = res.data.token;\n      localStorage.setItem('rememberMe', token);\n      setToken(token);\n      console.log(token);\n      Router.push('/secret');\n    });\n    callback();\n  };\n\n  var handleChange = function handleChange(event) {\n    event.persist();\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setInputValues(_defineProperty({}, name, value));\n  };\n\n  return {\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    inputValues: inputValues\n  };\n};\n\nexport default useForm;","map":{"version":3,"sources":["C:\\Users\\rbhate\\projects\\react-next-serversiderendering\\src\\components\\LoginForm\\useForm.js"],"names":["useReducer","useState","useEffect","axios","Router","useForm","callback","token","setToken","state","newState","inputValues","setInputValues","console","log","handleSubmit","event","preventDefault","post","then","res","data","localStorage","setItem","push","handleChange","persist","target","name","value"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,QAArB,EAA+BC,SAA/B,QAAgD,OAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,QAAD,EAAc;AAAA,kBACFL,QAAQ,EADN;AAAA;AAAA,MACrBM,KADqB;AAAA,MACdC,QADc;;AAAA,oBAEUR,UAAU,CAC9C,UAACS,KAAD,EAAQC,QAAR;AAAA,6BAA2BD,KAA3B,EAAqCC,QAArC;AAAA,GAD8C,EAE9C,EAF8C,CAFpB;AAAA;AAAA,MAErBC,WAFqB;AAAA,MAERC,cAFQ;;AAM5BV,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,GAFQ,CAAT;;AAIA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B;AACA,QAAIA,KAAJ,EAAWA,KAAK,CAACC,cAAN;AACXJ,IAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACAR,IAAAA,KAAK,CAACe,IAAN,gCAA0CP,WAA1C,EAAuDQ,IAAvD,CAA4D,UAACC,GAAD,EAAS;AACnEP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,IAAJ,CAASd,KAArB;AACA,UAAMA,KAAK,GAAGa,GAAG,CAACC,IAAJ,CAASd,KAAvB;AACAe,MAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmChB,KAAnC;AACAC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AAEAH,MAAAA,MAAM,CAACoB,IAAP,CAAY,SAAZ;AACD,KARD;AAUAlB,IAAAA,QAAQ;AACT,GAfD;;AAiBA,MAAMmB,YAAY,GAAG,SAAfA,YAAe,CAACT,KAAD,EAAW;AAC9BA,IAAAA,KAAK,CAACU,OAAN;AAD8B,wBAENV,KAAK,CAACW,MAFA;AAAA,QAEtBC,IAFsB,iBAEtBA,IAFsB;AAAA,QAEhBC,KAFgB,iBAEhBA,KAFgB;AAG9BjB,IAAAA,cAAc,qBAAIgB,IAAJ,EAAWC,KAAX,EAAd;AACD,GAJD;;AAMA,SAAO;AACLJ,IAAAA,YAAY,EAAZA,YADK;AAELV,IAAAA,YAAY,EAAZA,YAFK;AAGLJ,IAAAA,WAAW,EAAXA;AAHK,GAAP;AAKD,CAtCD;;AAwCA,eAAeN,OAAf","sourcesContent":["import { useReducer, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Router from 'next/router';\r\n\r\nconst useForm = (callback) => {\r\n  const [token, setToken] = useState();\r\n  const [inputValues, setInputValues] = useReducer(\r\n    (state, newState) => ({ ...state, ...newState }),\r\n    {},\r\n  );\r\n  useEffect(() => {\r\n    console.log('useEffect hook called');\r\n  });\r\n\r\n  const handleSubmit = (event) => {\r\n    // Call SERVER USING FETCH METHOD and PASS STATE VALUES TO BACK END WITH POST METHOD..\r\n    if (event) event.preventDefault();\r\n    console.log(inputValues);\r\n    axios.post(`http://localhost:8080/login`, inputValues).then((res) => {\r\n      console.log(res.data.token);\r\n      const token = res.data.token;\r\n      localStorage.setItem('rememberMe', token);\r\n      setToken(token);\r\n      console.log(token);\r\n\r\n      Router.push('/secret');\r\n    });\r\n\r\n    callback();\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    const { name, value } = event.target;\r\n    setInputValues({ [name]: value });\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    inputValues,\r\n  };\r\n};\r\n\r\nexport default useForm;\r\n"]},"metadata":{},"sourceType":"module"}