{"version":3,"file":"static/webpack/static/development/pages/products.js.539c729511e34dd64e7f.hot-update.js","sources":["webpack:///./pages/products.js"],"sourcesContent":["// This is the Link API\nimport React, { useState, useRef, useEffect } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Button from '../src/components/Button/Button';\nimport List from '../src/components/List/List';\nimport useInfiniteScroll from '../src/components/List/useInfiniteScroll';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport withAuthInitial from '../utils/withAuthInitial';\nimport ProductCard from '../src/components/ProductCard/ProductCard';\n\nfunction Products({ storeProducts }) {\n  const [start] = useState(3);\n  const [limit] = useState(3);\n  const [listItems, setListItems] = useState([]);\n  const [isFetching, setIsFetching] = useInfiniteScroll(fetchMoreListItems);\n  function fetchMoreListItems() {\n    alert('called');\n    const respon = fetch(\n      `http://localhost:8000/products?start=${start}&limit=${limit}`,\n    );\n    console.log(respon);\n    setTimeout(() => {\n      setListItems((prevState) => [\n        ...prevState,\n        ...Array.from(Array(20).keys(), (n) => n + prevState.length + 1),\n      ]);\n      setIsFetching(false);\n    }, 2000);\n  }\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"card-deck\">\n            {storeProducts.map((product, index) => {\n              return (\n                <div className=\"col-md-4\">\n                  <ProductCard product={product} />\n                </div>\n              );\n            })}\n            <ul className=\"list-group mb-2\">\n              {listItems.map((listItem, index) => (\n                <li className=\"list-group-item\">List Item {listItem}</li>\n              ))}\n            </ul>\n            {isFetching && 'Fetching more list items...'}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nProducts.getInitialProps =  () => {\n  let start = 0;\n  let limit = 3;\n  const respon = fetch(\n    `http://localhost:8000/products?start=${start}&limit=${limit}`,\n  ).then( (data) =>{\n    return { storeProducts: data }\n  })\n  \n  const error = 'Module Not Found';\n  if (data) {\n    ;\n  } else {\n    return { storeProducts: error };\n  }\n};\n\nexport default withAuthInitial(Products);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAEA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAUA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}