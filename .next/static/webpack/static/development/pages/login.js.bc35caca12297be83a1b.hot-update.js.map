{"version":3,"file":"static/webpack/static\\development\\pages\\login.js.bc35caca12297be83a1b.hot-update.js","sources":["webpack:///./src/components/LoginForm/useForm.js"],"sourcesContent":["import { useReducer, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Router from 'next/router';\r\nimport { Cookies } from 'react-cookie';\r\n\r\n//const cookies = new Cookies();\r\nconst useForm = (callback) => {\r\n  const [token, setToken] = useState();\r\n  const [inputValues, setInputValues] = useReducer(\r\n    (state, newState) => ({ ...state, ...newState }),\r\n    {},\r\n  );\r\n  useEffect(() => {\r\n    console.log('useEffect hook called');\r\n  });\r\n\r\n  const handleSubmit = (event) => {\r\n    // Call SERVER USING FETCH METHOD and PASS STATE VALUES TO BACK END WITH POST METHOD..\r\n    if (event) event.preventDefault();\r\n    console.log(inputValues);\r\n    axios.post(`http://localhost:8080/login`, inputValues).then((res) => {\r\n      console.log(res.data.token);\r\n      const token = res.data.token;\r\n      // cookies.set('token', token);\r\n      localStorage.setItem('rememberMe', token);\r\n      setToken(token);\r\n      console.log(token);\r\n\r\n      Router.push('/secret');\r\n    });\r\n\r\n    callback();\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    const { name, value } = event.target;\r\n    setInputValues({ [name]: value });\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    inputValues,\r\n  };\r\n};\r\n\r\nexport default useForm;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAHA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;;A","sourceRoot":""}